(this.webpackJsonprmdb=this.webpackJsonprmdb||[]).push([[0],{30:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(14),i=t.n(c),o=t(4),s=t(8),d=t(6),l=t.n(d),u=t(9),b=t(5),h=t(0),j=Object(r.createContext)();function p(){return Object(r.useContext)(j)}function m(e){var n=e.children,t=Object(r.useState)(!0),a=Object(o.a)(t,2),c=a[0],i=a[1],d=Object(r.useState)((function(){return localStorage.getItem("authTokens")?JSON.parse(localStorage.getItem("authTokens")):null})),p=Object(o.a)(d,2),m=p[0],v=p[1],x=Object(r.useState)((function(){return localStorage.getItem("authTokens")?JSON.parse(localStorage.getItem("authTokens")).user:null})),f=Object(o.a)(x,2),g=f[0],O=f[1],w=Object(r.useState)(!1),y=Object(o.a)(w,2),k=y[0],S=y[1],N=Object(r.useState)(!1),T=Object(o.a)(N,2),C=T[0],I=T[1],M=Object(b.h)(),_="http://127.0.0.1:8000/api/",E=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("".concat(_,"rest-auth/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.target.username.value,password:n.target.password.value})});case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,200===t.status?(a={access:r.access_token,refresh:r.refresh_token,user:r.user},v(a),O(r.user),localStorage.setItem("authTokens",JSON.stringify(a)),S(!1),window.location.reload()):alert("Login error!");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(){v(null),O(null),localStorage.removeItem("authTokens")},B=function(){var e=Object(u.a)(l.a.mark((function e(n){var t,r,a,c,i,o,s,d,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t=n.target.email.value,r=n.target.username.value,a=n.target.password1.value,c=n.target.password2.value,i={email:t,username:r,password1:a,password2:c},a===c){e.next=10;break}return e.abrupt("return",alert("Passwords do not match!"));case 10:if(!(a.length<8)){e.next=12;break}return e.abrupt("return",alert("Password must contain at least 8 characters."));case 12:return"http://127.0.0.1:8000/api/rest-auth/registration/",e.next=15,fetch("http://127.0.0.1:8000/api/rest-auth/registration/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 15:return o=e.sent,e.next=18,o.json();case 18:if(!(s=e.sent).email){e.next=23;break}return e.abrupt("return",alert("".concat(s.email[0])));case 23:if(s.user){e.next=33;break}if(!s.username){e.next=28;break}return e.abrupt("return",alert("".concat(s.username[0])));case 28:if(!s.password1){e.next=31;break}return d=s.password1.join(" "),e.abrupt("return",alert("".concat(d)));case 31:e.next=43;break;case 33:if(!s.non_field_errors){e.next=37;break}return e.abrupt("return",alert("".concat(s.non_field_errors[0])));case 37:u={access:s.access_token,refresh:s.refresh_token,user:s.user},v(u),O(s.user),localStorage.setItem("authTokens",JSON.stringify(u)),I(!1),M("/");case 43:n.target.email.value="",n.target.username.value="",n.target.password1.value="",n.target.password2.value="";case 47:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return",i(!1));case 2:return e.next=4,fetch("".concat(_,"rest-auth/token/refresh/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:null===m||void 0===m?void 0:m.refresh})});case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,200===n.status?(console.log("Token refreshed!"),v(Object(s.a)(Object(s.a)({},m),{},{access:t.access})),localStorage.setItem("authTokens",JSON.stringify(Object(s.a)(Object(s.a)({},m),{},{access:t.access})))):L(),c&&i(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){c&&z();var e=setInterval((function(){m&&z()}),24e4);return function(){clearInterval(e)}}),[c,m]);var G={loginUser:E,logoutUser:L,registerUser:B,modal:C,setModal:I,showSignIn:k,setShowSignIn:S,updateToken:z,tokens:m,user:g};return Object(h.jsx)(j.Provider,{value:G,children:!c&&n})}var v,x,f=t.p+"static/media/expand.8322b254.svg",g=t(7),O=t(2),w=t(3),y=w.b.div(v||(v=Object(O.a)(["\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  color: white;\n  cursor: pointer;\n  padding: 0.5rem;\n  position: relative;\n  width: 150px;\n\n  &:hover {\n    background: grey;\n  }\n\n  .username {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    position: relative;\n\n    img {\n      filter: invert(1);\n      width: 20px;\n    }\n  }\n\n  .dropdown-links-container {\n    background: grey;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    position: absolute;\n    top: 100%;\n    right: 0px;\n    z-index: 2;\n\n    .dropdown-links {\n      display: flex;\n      flex-direction: column;\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      width: 150px;\n    }\n\n    li,\n    .link {\n      color: white;\n      cursor: pointer;\n      padding: 0.5rem 0;\n      padding-left: 1rem;\n\n      &:hover {\n        background: var(--medGrey);\n      }\n    }\n\n    li:last-child {\n      &:hover {\n        border-bottom-left-radius: 5px;\n        border-bottom-right-radius: 5px;\n      }\n    }\n  }\n"])));function k(e){var n=e.username,t=p().logoutUser,a=Object(r.useState)(!1),c=Object(o.a)(a,2),i=c[0],s=c[1];return Object(h.jsxs)(y,{onMouseEnter:function(e){s(!0)},onMouseLeave:function(e){s(!1)},children:[Object(h.jsxs)("div",{className:"username",children:[n.toUpperCase(),Object(h.jsx)("img",{src:f,alt:"expand-icon"})]}),i&&Object(h.jsx)("div",{className:"dropdown-links-container",children:Object(h.jsxs)("ul",{className:"dropdown-links",children:[Object(h.jsx)(g.b,{className:"link",to:"/films",style:{textDecoration:"none"},children:"FILMS"}),Object(h.jsx)(g.b,{className:"link",to:"/likes",style:{textDecoration:"none"},children:"LIKES"}),Object(h.jsx)(g.b,{className:"link",to:"/watchlist",style:{textDecoration:"none"},children:"WATCHLIST"}),Object(h.jsx)("li",{onClick:t,children:"SIGN OUT"})]})})]})}var S,N=w.b.div(x||(x=Object(O.a)(["\n  background: var(--medGrey);\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.25rem 0;\n  animation: showSignIn 0.5s;\n\n  @keyframes showSignIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  .container,\n  form {\n    display: flex;\n    align-items: flex-end;\n  }\n\n  .close {\n    color: var(--white);\n    cursor: pointer;\n    margin: 0 0.5rem;\n\n    &:hover {\n      color: var(--hoverColor);\n    }\n  }\n\n  .input-container {\n    margin: 0 0.25rem;\n\n    .descriptor {\n      color: var(--white);\n      font-size: var(--fontSmall);\n      margin-bottom: 0.25rem;\n    }\n\n    #username,\n    #password {\n      background: gainsboro;\n      border-radius: 5px;\n      outline: none;\n      padding: 0.25rem 0.5rem;\n    }\n\n    #username:focus,\n    #password:focus {\n      background: var(--white);\n    }\n  }\n\n  button {\n    background: var(--hoverColor);\n    border-radius: 5px;\n    color: var(--white);\n    cursor: pointer;\n    margin: 0 0.5rem;\n    padding: 0.25rem 1rem;\n\n    &:hover {\n      filter: brightness(var(--hoverBrightness));\n    }\n  }\n"])));function T(){var e=p(),n=e.loginUser,t=e.setShowSignIn;return Object(h.jsx)(N,{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"close",onClick:function(){return t(!1)},children:"X"}),Object(h.jsxs)("form",{onSubmit:n,children:[Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("div",{className:"descriptor",children:"Username"}),Object(h.jsx)("input",{type:"text",id:"username",name:"username"})]}),Object(h.jsxs)("div",{className:"input-container",children:[Object(h.jsx)("div",{className:"descriptor",children:"Password"}),Object(h.jsx)("input",{type:"password",id:"password",name:"password"})]}),Object(h.jsx)("button",{type:"submit",children:"SIGN IN"})]})]})})}var C,I,M,_,E,L,B,z,G,U,P,A=w.b.div(S||(S=Object(O.a)(["\n  background: var(--darkGrey);\n  padding: 0 20px;\n\n  .content {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 0 auto;\n    max-width: var(--maxWidth);\n    padding: 0.5rem 0;\n\n    link: {\n      text-decoration: none;\n    }\n  }\n\n  .logo {\n    border: 1px solid var(--white);\n    color: var(--white);\n    display: flex;\n    font-size: var(--fontSuperBig);\n    justify-content: center;\n    padding: 2px;\n    width: 125px;\n\n    @media screen and (max-width: 500px) {\n      font-size: var(--fontBig);\n    }\n  }\n\n  .header-link-container {\n    display: flex;\n    animation: showSignIn 0.5s;\n\n    @keyframes showSignIn {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n\n    .header-link {\n      color: var(--white);\n      cursor: pointer;\n      display: flex;\n      align-content: center;\n      font-size: var(--fontMedium);\n      padding: 1rem 1rem;\n\n      &:hover {\n        color: var(--hoverColor);\n      }\n    }\n  }\n"]))),D=function(){var e=p(),n=e.modal,t=e.setModal,r=e.user,a=e.showSignIn,c=e.setShowSignIn;return Object(h.jsx)(A,{children:Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)(g.b,{to:"/",style:{textDecoration:"none"},children:Object(h.jsx)("div",{className:"logo",children:"RMDB"})}),r&&Object(h.jsx)(k,{username:r.username}),!r&&a&&Object(h.jsx)(T,{}),!r&&!a&&Object(h.jsxs)("div",{className:"header-link-container",children:[Object(h.jsx)("div",{className:"sign-in header-link",onClick:function(){return c(!a)},children:"Sign In"}),Object(h.jsx)("div",{className:"create-account header-link",onClick:function(){return t(!n)},children:"Create Account"})]})]})})},W=w.b.button(C||(C=Object(O.a)(["\n  background: var(--darkGrey);\n  border: none;\n  border-radius: 30px;\n  color: var(--white);\n  cursor: pointer;\n  display: block;\n  font-size: var(--fontBig);\n  height: 40px;\n  width: 25% auto;\n  min-width: 200px;\n  margin: 20px auto;\n\n  :hover {\n    opacity: 0.8;\n  }\n"]))),q=function(e){var n=e.text,t=e.callback;return Object(h.jsx)(W,{type:"button",onClick:t,children:n})},R=w.b.div(I||(I=Object(O.a)(["\n  max-width: var(--maxWidth);\n  margin: 0 auto;\n  padding: 0 20px;\n\n  h1 {\n    color: var(--medGrey);\n  }\n\n  @media screen (max-width: 768px) {\n    font-size: var(--fontBig);\n  }\n"]))),J=w.b.div(M||(M=Object(O.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-gap: 1rem;\n"]))),F=function(e){var n=e.header,t=e.children;return Object(h.jsxs)(R,{children:[Object(h.jsx)("h1",{children:n}),Object(h.jsx)(J,{children:t})]})},Y=w.b.div(_||(_=Object(O.a)(["\n  background: linear-gradient(\n      to bottom,\n      rgba(0, 0, 0, 0) 41%,\n      rgba(0, 0, 0, 0.95) 100%\n    ),\n    url(","), var(--darkGrey);\n  background-size: 100%, cover;\n  background-position: center;\n  height: 500px;\n  position: relative;\n"])),(function(e){return e.image})),H=w.b.div(E||(E=Object(O.a)(["\n  margin: 0 auto;\n  max-width: var(--maxWidth);\n  padding: 0 20px 0 20px;\n"]))),K=w.b.div(L||(L=Object(O.a)(["\n  color: var(--white);\n  max-width: 550px;\n  min-height: 100px;\n  position: absolute;\n  bottom: 40px;\n  z-index: 1;\n\n  h1 {\n    font-size: var(--fontSuperBig);\n\n    @media screen and (max-width: 720px) {\n      font-size: var(--fontBig);\n    }\n  }\n\n  p {\n    font-size: var(--fontMed);\n\n    @media screen and (max-width: 720px) {\n      font-size: var(--fontSmall);\n    }\n  }\n\n  @media screen and (max-width: 720px) {\n    max-width: 100%;\n  }\n"]))),X=function(e){var n=e.image,t=e.title,r=e.text;return Object(h.jsx)(Y,{image:n,children:Object(h.jsx)(H,{children:Object(h.jsxs)(K,{children:[Object(h.jsx)("h1",{children:t}),Object(h.jsx)("p",{children:r})]})})})},Q=t.p+"static/media/search-icon.cd820f5a.svg",V=w.b.div(B||(B=Object(O.a)(["\n  background: var(--darkGrey);\n  display: flex;\n  align-items: center;\n  height: 100px;\n  padding: 0 20px;\n"]))),Z=w.b.div(z||(z=Object(O.a)(["\n  background: var(--medGrey);\n  border-radius: 50px;\n  color: var(--white);\n  height: 55px;\n  width: 100%;\n  max-width: var(--maxWidth);\n  margin: 0 auto;\n  position: relative;\n\n  img {\n    position: absolute;\n    top: 14px;\n    left: 15px;\n    width: 30px;\n  }\n\n  input {\n    background: transparent;\n    border: none;\n    border-radius: 15px;\n    color: var(--white);\n    font-size: var(--fontBig);\n    height: 40px;\n    width: 97.5%;\n    margin: 8px 0;\n    outline: none;\n    padding: 0 0 0 60px;\n    position: absolute;\n    left: 0;\n  }\n"]))),$=function(e){var n=e.setSearchTerm,t=Object(r.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(r.useRef)(!0);return Object(r.useEffect)((function(){if(!s.current){var e=setTimeout((function(){n(c)}),500);return function(){return clearTimeout(e)}}s.current=!1}),[n,c]),Object(h.jsx)(V,{children:Object(h.jsxs)(Z,{children:[Object(h.jsx)("img",{src:Q,alt:"search-icon"}),Object(h.jsx)("input",{type:"text",value:c,onChange:function(e){i(e.target.value)},placeholder:"Search Movie"})]})})},ee=w.b.div(G||(G=Object(O.a)(["\n  border: 5px solid var(--lightGrey);\n  border-top: 5px solid var(--medGrey);\n  border-radius: 50%;\n  height: 50px;\n  margin: 20px auto;\n  width: 50px;\n  animation: spin 0.8s linear infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),ne=w.b.img(U||(U=Object(O.a)(["\n  border: 2.5px solid transparent;\n  border-radius: 25px;\n  display: flex;\n  width: 100%;\n  max-width: 720px;\n  object-fit: cover;\n\n  :hover {\n    border: 2.5px solid var(--hoverColor);\n    animation: animateBorder 0.25s;\n  }\n\n  @keyframes animateBorder {\n    from {\n      border: 2.5px solid transparent;\n    }\n    to {\n      border: 2.5px solid var(--hoverColor);\n    }\n  }\n"]))),te=function(e){var n=e.image,t=e.movieId,r=e.movieTitle,a=e.clickable;return Object(h.jsx)("div",{children:a?Object(h.jsx)(g.b,{to:"/".concat(t),children:Object(h.jsx)(ne,{src:n,alt:"movie-thumb",title:r})}):Object(h.jsx)(ne,{src:n,alt:"movie-thumb",title:r})})},re="https://api.themoviedb.org/3/",ae="6e169f3f4f3a355ff2e11078b16aac69",ce="".concat(re,"search/movie?api_key=").concat(ae,"&language=en-US&query="),ie="".concat(re,"movie/popular?api_key=").concat(ae,"&language=en-US"),oe=("".concat(re,"authentication/token/new?api_key=").concat(ae),"".concat(re,"authentication/token/validate_with_login?api_key=").concat(ae),"".concat(re,"authentication/session/new?api_key=").concat(ae),"http://image.tmdb.org/t/p/"),se="w1280",de="w780",le="w342",ue=t(11),be={fetchMovies:function(e,n){var t=e?"".concat(ce).concat(e,"&page=").concat(n):"".concat(ie,"&page=").concat(n);return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))},fetchMovie:function(){var e=Object(u.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(re,"movie/").concat(n,"?api_key=").concat(ae),e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fetchCredits:function(){var e=Object(u.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(re,"movie/").concat(n,"/credits?api_key=").concat(ae),e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fetchPerson:function(){var e=Object(u.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(re,"person/").concat(n,"?api_key=").concat(ae),e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),fetchPersonCredits:function(){var e=Object(u.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(re,"person/").concat(n,"/movie_credits?api_key=").concat(ae),e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},he=be,je={page:0,results:[],total_pages:0,total_results:0},pe=t.p+"static/media/no_image.22d2aa4d.jpg",me=function(){var e=function(){var e=Object(r.useState)(je),n=Object(o.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(!1),i=Object(o.a)(c,2),d=i[0],b=i[1],h=Object(r.useState)(!1),j=Object(o.a)(h,2),p=j[0],m=j[1],v=Object(r.useState)(!1),x=Object(o.a)(v,2),f=x[0],g=x[1],O=Object(r.useState)(""),w=Object(o.a)(O,2),y=w[0],k=w[1],S=function(){var e=Object(u.a)(l.a.mark((function e(){var n,t,r,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",t=c.length>1?c[1]:void 0,e.prev=2,b(!1),m(!0),e.next=7,he.fetchMovies(n,t);case 7:r=e.sent,a((function(e){return Object(s.a)(Object(s.a)({},r),{},{results:r.page>1?[].concat(Object(ue.a)(e.results),Object(ue.a)(r.results)):r.results})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),b(!0);case 14:m(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f&&(S(y,t.page+1),g(!1))}),[f,y,t.page]),Object(r.useEffect)((function(){a(je),m(!0),S("".concat(y),1)}),[y]),{state:t,loading:p,error:d,searchTerm:y,setSearchTerm:k,setIsLoadMore:g}}(),n=e.state,t=e.loading,a=e.searchTerm,c=e.setSearchTerm,i=e.setIsLoadMore,d=Object(o.a)(n.results,1)[0];return Object(h.jsxs)(h.Fragment,{children:[!a&&d&&Object(h.jsx)(X,{image:"".concat(oe).concat(se).concat(d.backdrop_path),title:d.movie_title,text:d.overview}),Object(h.jsx)($,{setSearchTerm:c}),Object(h.jsx)(F,{header:a?"Search Results":"Popular Movies",children:n.results.map((function(e){return Object(h.jsx)(te,{image:e.poster_path?oe+de+e.poster_path:pe,movieId:e.id,movieTitle:e.title,clickable:!0},e.id)}))}),t&&Object(h.jsx)(ee,{}),!t&&n.page<n.total_pages&&Object(h.jsx)(q,{text:"Load More",callback:function(){return i(!0)}})]})},ve=t.p+"static/media/like.afd73daa.svg",xe=t.p+"static/media/watch.30a23b53.svg",fe=t.p+"static/media/watchlist.f88b8450.svg",ge=w.b.div(P||(P=Object(O.a)(["\n  background: rgba(0, 0, 0, 0.8);\n  border-radius: 5px;\n  display: none;\n  padding: 0.2rem;\n  position: absolute;\n  bottom: 10%;\n  width: 75%;\n\n  .icons-container {\n    display: flex;\n    justify-content: space-evenly;\n  }\n\n  .icons {\n    cursor: pointer;\n    width: 1.25rem;\n    filter: invert(99%) sepia(0%) saturate(2%) hue-rotate(358deg)\n      brightness(103%) contrast(100%);\n\n    :hover {\n      filter: invert(75%) sepia(45%) saturate(686%) hue-rotate(36deg)\n        brightness(112%) contrast(102%);\n    }\n  }\n\n  .icons:nth-child(1) {\n    width: 1.75rem;\n  }\n\n  #selected {\n    filter: invert(75%) sepia(45%) saturate(686%) hue-rotate(36deg)\n      brightness(112%) contrast(102%);\n  }\n\n  #like-selected {\n    filter: invert(25%) sepia(90%) saturate(7500%) hue-rotate(357deg)\n      brightness(99%) contrast(120%);\n  }\n"])));function Oe(e){var n=e.movie,t=e.className,a=p(),c=a.tokens,i=a.user,s=Object(r.useState)(n.watch),d=Object(o.a)(s,2),l=d[0],u=d[1],b=Object(r.useState)(n.like),j=Object(o.a)(b,2),m=j[0],v=j[1],x=Object(r.useState)(n.watchlist),f=Object(o.a)(x,2),g=f[0],O=f[1],w=Object(r.useState)(!1),y=Object(o.a)(w,2),k=y[0],S=y[1];Object(r.useEffect)((function(){if(k){fetch("".concat("http://127.0.0.1:8000/api/update-movie/").concat(n.movieId),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.access)},body:JSON.stringify({user:i.pk,movieId:n.movieId,title:n.title,posterPath:n.posterPath,watch:l,like:m,watchlist:g,rating:n.rating})}),S(!1)}}),[l,m,g]);return Object(h.jsx)(ge,{className:t,children:Object(h.jsxs)("div",{className:"icons-container",onClick:function(e){var n=e.target.closest("img");if(n)switch(n.alt){case"watch":l?n.removeAttribute("id"):n.setAttribute("id","selected"),!0===!l&&g&&O(!1),u(!l),S(!0);break;case"like":m?n.removeAttribute("id"):n.setAttribute("id","selected"),v(!m),S(!0);break;case"watchlist":g?n.removeAttribute("id"):n.setAttribute("id","selected"),O(!g),S(!0);break;default:return}},children:[Object(h.jsx)("img",{className:"icons",id:l?"selected":"",src:xe,alt:"watch"}),Object(h.jsx)("img",{className:"icons",id:m?"like-selected":"",src:ve,alt:"like"}),Object(h.jsx)("img",{className:"icons",id:g?"selected":"",src:fe,alt:"watchlist"})]})})}var we,ye,ke,Se=t.p+"static/media/popcorn.ace56c56.svg",Ne=w.b.div(we||(we=Object(O.a)(["\n  background: var(--medGrey);\n  color: var(--white);\n  min-height: 100vh;\n  padding: 3rem;\n\n  .container {\n    margin: 0 auto;\n    max-width: var(--maxWidth);\n  }\n\n  .description {\n    border-bottom: 1px solid var(--white);\n    margin-bottom: 1rem;\n  }\n\n  .popcorn-container {\n    min-height: 0.5rem;\n  }\n\n  .popcorn {\n    width: 0.95rem;\n  }\n"]))),Te=w.b.div(ye||(ye=Object(O.a)(["\n  display: grid;\n  grid-gap: 0 1rem;\n  grid-template-columns: repeat(auto-fill, minmax(125px, 1fr));\n\n  .thumb-container {\n    position: relative;\n    display: flex;\n    justify-content: center;\n  }\n\n  .thumb {\n    border: 2.5px solid transparent;\n    border-radius: 5px;\n    width: 100%;\n\n    :hover {\n      border: 2.5px solid var(--hoverColor);\n      animation: animateBorder 0.25s;\n    }\n\n    @keyframes animateBorder {\n      from {\n        border: 2.5px solid transparent;\n      }\n      to {\n        border: 2.5px solid var(--hoverColor);\n      }\n    }\n  }\n"])));function Ce(){var e=p().tokens,n=Object(r.useState)(null),t=Object(o.a)(n,2),a=t[0],c=t[1],i=Object(r.useState)(!0),s=Object(o.a)(i,2),d=s[0],b=s[1];Object(r.useEffect)((function(){var n=function(){var n=Object(u.a)(l.a.mark((function n(){var t,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("http://127.0.0.1:8000/api/get-movies/","watch"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.access)}});case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,c(r),b(!1);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var j=function(e){e.currentTarget.querySelector(".thumb-panel").style.display="block"},m=function(e){e.currentTarget.querySelector(".thumb-panel").style.display="none"};return d?Object(h.jsx)(ee,{}):Object(h.jsx)(Ne,{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("section",{className:"description",children:"WATCHED"}),Object(h.jsx)(Te,{children:a.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"thumb-container",onMouseEnter:j,onMouseLeave:m,children:[Object(h.jsx)(g.b,{to:"/".concat(e.movieId),children:Object(h.jsx)("img",{className:"thumb",src:oe+le+e.posterPath,alt:"",title:e.title})}),Object(h.jsx)(Oe,{className:"thumb-panel",movie:e})]},e.movieId),Object(h.jsx)("div",{className:"popcorn-container",children:Object(ue.a)(Array(e.rating)).map((function(n,t){return Object(h.jsx)("img",{className:"popcorn",src:Se,alt:""},"".concat(e.movieId,"-").concat(t))}))})]},e.movieId)}))})]})})}var Ie,Me,_e,Ee=w.b.div(ke||(ke=Object(O.a)(["\n  background: var(--medGrey);\n  color: var(--white);\n  min-height: 100vh;\n  padding: 3rem;\n\n  .description {\n    border-bottom: 1px solid var(--white);\n    margin-bottom: 1rem;\n  }\n"])));function Le(){var e=p().tokens,n=Object(r.useState)(null),t=Object(o.a)(n,2),a=t[0],c=t[1],i=Object(r.useState)(!0),s=Object(o.a)(i,2),d=s[0],b=s[1];Object(r.useEffect)((function(){var n=function(){var n=Object(u.a)(l.a.mark((function n(){var t,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("http://127.0.0.1:8000/api/get-movies/","likes"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.access)}});case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,c(r),b(!1);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var j=function(e){e.currentTarget.querySelector(".thumb-panel").style.display="block"},m=function(e){e.currentTarget.querySelector(".thumb-panel").style.display="none"};return d?Object(h.jsx)(ee,{}):Object(h.jsxs)(Ee,{children:[Object(h.jsx)("section",{className:"description",children:"LIKES"}),Object(h.jsx)(Te,{children:a.map((function(e){return Object(h.jsxs)("div",{className:"thumb-container",onMouseEnter:j,onMouseLeave:m,children:[Object(h.jsx)(g.b,{to:"/".concat(e.movieId),children:Object(h.jsx)("img",{className:"thumb",src:oe+le+e.posterPath,alt:"",title:e.title})}),Object(h.jsx)(Oe,{className:"thumb-panel",movie:e})]},e.movieId)}))})]})}var Be,ze,Ge,Ue,Pe=w.b.div(Ie||(Ie=Object(O.a)(["\n  background: var(--darkGrey);\n  border-radius: 20px;\n  color: var(--white);\n  text-align: center;\n\n  h3 {\n    margin: 15px 0 0 0;\n    :hover {\n      cursor: default;\n    }\n  }\n  p {\n    margin: 5px 0;\n    :hover {\n      cursor: default;\n    }\n  }\n\n  :hover {\n    color: var(--hoverColor);\n    animation: animateColor 0.25s;\n    @keyframes animateColor {\n      from {\n        color: var(--white);\n      }\n      to {\n        color: var(--hoverColor);\n      }\n    }\n  }\n"]))),Ae=w.b.img(Me||(Me=Object(O.a)(["\n  border-radius: 15px;\n  display: block;\n  height: 200px;\n  max-width: 720px;\n  object-fit: cover;\n  width: 100%;\n"]))),De=w.b.div(_e||(_e=Object(O.a)(["\n  align-items: center;\n  border-radius: 15px;\n  color: var(--white);\n  display: flex;\n  font-size: var(--fontBig);\n  height: 200px;\n  justify-content: center;\n  max-width: 720px;\n  width: 100%;\n"]))),We=function(e){var n=e.id,t=e.name,r=e.character,a=e.imageUrl;return Object(h.jsxs)(Pe,{children:[Object(h.jsxs)(g.b,{style:{textDecoration:"none"},to:"/person/".concat(n),children:[a&&Object(h.jsx)(Ae,{src:a,alt:"actor-thumb"}),!a&&Object(h.jsx)(De,{children:"No Image"})]}),Object(h.jsx)("h3",{children:t}),Object(h.jsx)("p",{children:r})]})},qe=w.b.div(Be||(Be=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 50px;\n  background: var(--medGrey);\n  color: var(--white);\n"]))),Re=w.b.div(ze||(ze=Object(O.a)(["\n  align-items: center;\n  display: flex;\n  max-width: var(--maxWidth);\n  padding: 0 20px;\n  width: 100%;\n\n  span {\n    font-size: var(--fontMed);\n    color: var(--white);\n    padding-right: 10px;\n  }\n\n  span:nth-child(1):hover {\n    color: var(--hoverColor);\n  }\n\n  @media screen and (max-width: 768px) {\n    span {\n      font-size: var(--fontMed);\n    }\n  }\n"]))),Je=function(e){var n=e.movieTitle;return Object(h.jsx)(qe,{children:Object(h.jsxs)(Re,{children:[Object(h.jsx)(g.b,{to:"/",style:{textDecoration:"none"},children:Object(h.jsx)("span",{children:"Home"})}),Object(h.jsx)("span",{children:"|"}),Object(h.jsx)("span",{children:n})]})})},Fe=w.b.div(Ge||(Ge=Object(O.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 1rem 0;\n\n  .watch,\n  .like,\n  .watchlist {\n    width: 25%;\n    display: flex;\n    flex-flow: column;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n\n    div {\n      position: absolute;\n      top: 0;\n    }\n\n    :hover {\n      color: var(--hoverColor);\n      cursor: pointer;\n    }\n  }\n\n  img {\n    margin-top: 1.5rem;\n    width: 2rem;\n    filter: brightness(0) invert(1) opacity(0.5);\n\n    :hover {\n      cursor: pointer;\n    }\n  }\n\n  .watch img {\n    width: 3rem;\n  }\n\n  .selected {\n    filter: invert(75%) sepia(45%) saturate(686%) hue-rotate(36deg)\n      brightness(112%) contrast(102%);\n  }\n\n  .like-selected {\n    filter: invert(25%) sepia(90%) saturate(7500%) hue-rotate(357deg)\n      brightness(99%) contrast(120%);\n  }\n"])));function Ye(e){var n=e.movieLog,t=e.setMovieLog,a=e.setUpdating,c=Object(r.useState)(n.watch),i=Object(o.a)(c,2),d=i[0],l=i[1],u=Object(r.useState)(n.like),b=Object(o.a)(u,2),j=b[0],p=b[1],m=Object(r.useState)(n.watchlist),v=Object(o.a)(m,2),x=v[0],f=v[1],g=Object(r.useRef)(null),O=function(e){({watch:d,like:j,watchlist:x})[e.currentTarget.className]&&(e.currentTarget.querySelector("div").innerText="Remove")},w=function(e){switch(e.currentTarget.className){case"watch":e.currentTarget.querySelector("div").innerText=d?"Watched":"Watch";break;case"like":e.currentTarget.querySelector("div").innerText=j?"Liked":"Like";break;case"watchlist":e.currentTarget.querySelector("div").innerText="Watchlist";break;default:return}};return Object(r.useEffect)((function(){var e=[d,j,x];g.current.querySelectorAll("img").forEach((function(n,t){var r;e[t]?1===t?n.classList.add("like-selected"):n.classList.add("selected"):(r=n.classList).remove.apply(r,Object(ue.a)(n.classList))})),t(Object(s.a)(Object(s.a)({},n),{},{watch:d,like:j,watchlist:x}))}),[d,j,x]),Object(h.jsxs)(Fe,{ref:g,onClick:function(e){var n=e.target.closest("section");if(null===n||void 0===n?void 0:n.className){a(!0);var t={watch:[d,l],like:[j,p],watchlist:[x,f]},r=Object(o.a)(t[n.className],2),c=r[0],i=r[1];"watch"===n.className&&!0===!d&&!0===x&&f(!1),i(!c)}},children:[Object(h.jsxs)("section",{className:"watch",onMouseEnter:O,onMouseLeave:w,children:[Object(h.jsx)("div",{children:d?"Watched":"Watch"}),Object(h.jsx)("img",{src:xe,alt:"watch"})]}),Object(h.jsxs)("section",{className:"like",onMouseEnter:O,onMouseLeave:w,children:[Object(h.jsx)("div",{children:j?"Liked":"Like"}),Object(h.jsx)("img",{src:ve,alt:"like"})]}),Object(h.jsxs)("section",{className:"watchlist",onMouseEnter:O,onMouseLeave:w,children:[Object(h.jsx)("div",{children:"Watchlist"}),Object(h.jsx)("img",{src:fe,alt:"watchlist"})]})]})}var He,Ke=w.b.div(Ue||(Ue=Object(O.a)(["\n  margin: 1rem 0;\n\n  .container {\n    :hover {\n      color: var(--hoverColor);\n    }\n  }\n\n  .popcorn-rating {\n    margin-top: 0.5rem;\n    text-align: center;\n\n    img {\n      cursor: pointer;\n      width: 2rem;\n    }\n\n    .unselected {\n      filter: brightness(0) invert(1) opacity(0.5);\n    }\n  }\n"])));function Xe(e){var n=e.movieLog,t=e.setMovieLog,a=e.setUpdating,c=Object(r.useState)(null),i=Object(o.a)(c,2),d=i[0],l=i[1],u=Object(r.useState)(!1),b=Object(o.a)(u,2),j=b[0],p=b[1],m=Object(r.useRef)(null),v=Object(r.useRef)(n.rating),x=function(e){a(!0);var r=Number(e.currentTarget.closest("label").querySelector("input").value);r===v.current?(t(Object(s.a)(Object(s.a)({},n),{},{rating:0})),v.current=0):(v.current=r,t(Object(s.a)(Object(s.a)({},n),{},{rating:r})))},f=function(e){p(!0);var n=Number(e.currentTarget.previousElementSibling.value);l(n)},g=function(e){p(!1)};return Object(r.useEffect)((function(){if(!0===j){m.current.childNodes.forEach((function(e){e.querySelector("img").classList.add("unselected")}));for(var e=0;e<d;e++)m.current.childNodes[e].children[1].classList.remove("unselected")}}),[j,d]),Object(r.useEffect)((function(){if(!1===j){m.current.childNodes.forEach((function(e){e.querySelector("img").classList.add("unselected")}));for(var e=0;e<n.rating;e++)m.current.childNodes[e].children[1].classList.remove("unselected")}}),[n.rating,j]),Object(h.jsx)(Ke,{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"title",children:"Rate"}),Object(h.jsx)("div",{className:"popcorn-rating",ref:m,children:Object(ue.a)(Array(6)).map((function(e,n){return Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"hidden",name:"rating",value:n+1}),Object(h.jsx)("img",{className:"unselected",src:Se,alt:"popcorn",onClick:x,onMouseEnter:f,onMouseLeave:g})]},n)}))})]})})}var Qe=w.b.div(He||(He=Object(O.a)(["\n  color: var(--white);\n  padding: 1.5rem;\n\n  @media screen and (max-width: 768px) {\n    max-width: 55%;\n    margin: 0 auto;\n  }\n\n  .tmdb-rating {\n    margin: 1rem 0;\n  }\n\n  .title {\n    text-align: center;\n  }\n\n  .tmdb-rating-number {\n    background: ",";\n    border-radius: 50%;\n    color: #000;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 35px;\n    width: 35px;\n    margin: 5px auto 0 auto;\n    pointer-events: none;\n  }\n"])),(function(e){var n=e.rating;return n>7?"green":n>4?"goldenrod":"red"}));function Ve(e){var n=e.movie,t=e.movieLog,r=e.setMovieLog,a=e.updating,c=e.setUpdating;return Object(h.jsxs)(Qe,{children:[Object(h.jsx)(Ye,{movieLog:t,setMovieLog:r,updating:a,setUpdating:c}),Object(h.jsx)(Xe,{movieLog:t,setMovieLog:r,updating:a,setUpdating:c}),Object(h.jsxs)("div",{className:"tmdb-rating",children:[Object(h.jsx)("div",{className:"title",children:"TMDB Rating"}),Object(h.jsx)("div",{className:"tmdb-rating-number",children:n.vote_average})]})]})}var Ze,$e,en,nn,tn,rn,an,cn,on,sn,dn,ln,un,bn,hn,jn,pn,mn=function(e){var n=Math.floor(e/60),t=e%60;return"".concat(n,"h ").concat(t,"m")},vn=w.b.div(Ze||(Ze=Object(O.a)(["\n  background: ",";\n  background-size: cover;\n  background-position: center;\n  padding: 40px 20px;\n\n  animation: animateMovieInfo 1s;\n  @keyframes animateMovieInfo {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"])),(function(e){var n=e.backdrop;return n?"url(".concat(oe).concat(se).concat(n,")"):"#000"})),xn=w.b.div($e||($e=Object(O.a)(["\n  background: rgba(0, 0, 0, 0.75);\n  border-radius: 25px;\n  display: grid;\n  grid-template-columns: 1fr 1.5fr 250px;\n  margin: 0 auto;\n  max-width: var(--maxWidth);\n\n  @media screen and (max-width: 768px) {\n    display: block;\n  }\n"]))),fn=w.b.div(en||(en=Object(O.a)(["\n  color: var(--white);\n  padding: 1rem 1.5rem;\n  width: 100%;\n\n  .director {\n    font-size: 1rem;\n\n    span {\n      color: var(--white);\n\n      :hover {\n        color: var(--hoverColor);\n      }\n    }\n  }\n\n  .tagline {\n    color: var(--lightGrey);\n    font-style: italic;\n  }\n\n  .overview {\n    @media screen and (max-width: 768px) {\n      font-size: var(--fontBig);\n    }\n  }\n\n  .movie-overview {\n    margin-top: 0;\n  }\n"]))),gn=function(e){var n=e.movie,t=p(),a=t.tokens,c=t.user,i=Object(r.useState)(!0),d=Object(o.a)(i,2),b=d[0],j=d[1],m=Object(r.useState)(!1),v=Object(o.a)(m,2),x=v[0],f=v[1],O=Object(r.useState)({watch:!1,like:!1,watchlist:!1,rating:0}),w=Object(o.a)(O,2),y=w[0],k=w[1];return Object(r.useEffect)((function(){if(!b&&x){fetch("".concat("http://127.0.0.1:8000/api/update-movie/").concat(n.id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.access)},body:JSON.stringify({user:c.pk,movieId:n.id,title:n.title,posterPath:n.poster_path,watch:y.watch,like:y.like,watchlist:y.watchlist,rating:y.rating})}),f(!1)}}),[y]),Object(r.useEffect)((function(){if(c){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://127.0.0.1:8000/api/get-movie/").concat(n.id),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.access)}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:r=e.sent,k(Object(s.a)(Object(s.a)({},y),{},{watch:r.watch,like:r.like,watchlist:r.watchlist,rating:r.rating})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:j(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[]),Object(h.jsx)(vn,{backdrop:n.backdrop_path,children:Object(h.jsxs)(xn,{children:[Object(h.jsx)(te,{image:n.poster_path?"".concat(oe).concat(de).concat(n.poster_path):pe,clickable:!1,alt:"movie-thumb"}),Object(h.jsxs)(fn,{rating:n.vote_average,children:[Object(h.jsxs)("h2",{children:[n.title," (",n.release_date.slice(0,4),") ",Object(h.jsx)("br",{}),Object(h.jsxs)("span",{className:"director",children:["Directed by"," ",n.directors.map((function(e,n){return Object(h.jsxs)("span",{children:[n>0&&Object(h.jsx)("span",{children:", "}),Object(h.jsx)(g.b,{to:"/person/".concat(e.id),style:{textDecoration:"none "},children:Object(h.jsx)("span",{className:"director-name",children:e.name})},e.credit_id)]},n)}))]})]}),n.tagline&&Object(h.jsx)("h4",{className:"tagline",children:n.tagline.toUpperCase()}),Object(h.jsx)("div",{className:"overview",children:"Overview"}),Object(h.jsx)("p",{className:"movie-overview",children:n.overview}),Object(h.jsxs)("p",{children:[n.release_date," \xb7"," ",n.genres.map((function(e){return e.name})).join(", ")," \xb7"," ",mn(n.runtime)]})]}),c&&!b&&Object(h.jsx)(Ve,{movie:n,movieLog:y,setMovieLog:k,updating:x,setUpdating:f})]})})},On=function(){var e=function(e){var n=Object(r.useState)({}),t=Object(o.a)(n,2),a=t[0],c=t[1],i=Object(r.useState)(!0),d=Object(o.a)(i,2),b=d[0],h=d[1],j=Object(r.useState)(!1),p=Object(o.a)(j,2),m=p[0],v=p[1];return Object(r.useEffect)((function(){var n=function(){var n=Object(u.a)(l.a.mark((function n(){var t,r,a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,h(!0),v(!1),n.next=5,he.fetchMovie(e);case 5:return t=n.sent,n.next=8,he.fetchCredits(e);case 8:r=n.sent,a=r.crew.filter((function(e){return"Director"===e.job})),c(Object(s.a)(Object(s.a)({},t),{},{actors:r.cast,directors:a})),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),v(!0);case 16:h(!1);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]),{state:a,loading:b,error:m}}(Object(b.i)().movieId),n=e.state,t=e.loading,a=e.error;return t?Object(h.jsx)(ee,{}):a?Object(h.jsx)("div",{children:'"Error!"'}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Je,{movieTitle:n.title}),Object(h.jsx)(gn,{movie:n}),Object(h.jsx)(F,{children:n.actors.map((function(e){return Object(h.jsx)(We,{id:e.id,character:e.character,name:e.name,imageUrl:e.profile_path&&"".concat(oe).concat(de).concat(e.profile_path)},e.credit_id)}))})]})},wn=function(){return Object(h.jsx)("div",{children:"NotFound"})},yn=w.b.div(nn||(nn=Object(O.a)(["\n  padding: 10px 0;\n\n  span {\n    color: var(--hoverColor);\n    cursor: pointer;\n\n    :hover {\n      filter: brightness(80%);\n    }\n  }\n"]))),kn=function(e){var n=e.biography,t=Object(r.useState)(!0),a=Object(o.a)(t,2),c=a[0],i=a[1];return Object(h.jsx)(yn,{children:Object(h.jsxs)("div",{children:[c?n.slice(0,240)+"... ":n,Object(h.jsx)("span",{onClick:function(){i(!c)},children:c?"more":" x"})]})})},Sn=w.b.div(tn||(tn=Object(O.a)(["\n  .container {\n    margin: 0 auto;\n  }\n\n  @media screen and (max-width: 768px) {\n    .container {\n      width: 350px;\n    }\n  }\n"]))),Nn=w.b.img(rn||(rn=Object(O.a)(["\n  border: 1px solid var(--lightGrey);\n  border-radius: 5px;\n  width: 100%;\n"]))),Tn=w.b.div(an||(an=Object(O.a)(["\n  align-items: center;\n  background: var(--darkGrey);\n  border-radius: 5px;\n  display: flex;\n  font-size: var(--fontBig);\n  height: 300px;\n  justify-content: center;\n  width: 100%;\n\n  @media screen and (max-width: 768px) {\n    max-width: 350px;\n    height: 400px;\n  }\n"]))),Cn=function(e){var n=e.person;if(!e.loading)return Object(h.jsx)(Sn,{children:Object(h.jsxs)("div",{className:"container",children:[n.profile_path?Object(h.jsx)(Nn,{src:"".concat(oe).concat(le).concat(n.profile_path),alt:"profile-thumb"}):Object(h.jsx)(Tn,{children:Object(h.jsx)("p",{children:"No Image"})}),Object(h.jsx)(kn,{biography:n.biography})]})})},In=w.b.div(cn||(cn=Object(O.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, minmax(auto, 175px));\n  grid-gap: 1rem;\n\n  @media screen and (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"]))),Mn=w.b.img(on||(on=Object(O.a)(["\n  border: 2.5px solid transparent;\n  border-radius: 5px;\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n\n  :hover {\n    border: 2.5px solid var(--hoverColor);\n    animation: animateBorder 0.25s;\n  }\n\n  @keyframes animateBorder {\n    from {\n      border: 2.5px solid transparent;\n    }\n    to {\n      border: 2.5px solid var(--hoverColor);\n    }\n  }\n"]))),_n=w.b.div(sn||(sn=Object(O.a)(["\n  align-items: center;\n  border: 2.5px solid var(--lightGrey);\n  border-radius: 5px;\n  color: var(--white);\n  display: flex;\n  font-size: var(--fontMed);\n  height: 100%;\n  min-height: 250px;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n\n  :hover {\n    border: 2.5px solid var(--hoverColor);\n    animation: animateBorder 0.25s;\n  }\n\n  @media screen and (max-width: 768px) {\n    min-height: 500px;\n    font-size: var(--fontSuperBig);\n  }\n\n  @keyframes animateBorder {\n    from {\n      border: 2.5px solid;\n    }\n    to {\n      border: 2.5px solid var(--hoverColor);\n    }\n  }\n"]))),En=function(e){var n=e.showing;return Object(h.jsx)(In,{children:n.map((function(e){return Object(h.jsxs)(g.b,{to:"/".concat(e.id),style:{textDecoration:"none"},children:[e.poster_path&&Object(h.jsx)(Mn,{src:"".concat(oe).concat(le).concat(e.poster_path),alt:"movie-thumb",title:e.title}),!e.poster_path&&Object(h.jsxs)(_n,{children:[e.title," ",e.release_date?"(".concat(e.release_date.slice(0,4),")"):""]})]},e.id)}))})},Ln=w.b.select(dn||(dn=Object(O.a)(["\n  margin: 15px 0;\n  padding: 5px 2.5px;\n  outline: none;\n"]))),Bn=function(e){var n=e.credits,t=e.jobs,r=e.handleSelect;return Object(h.jsx)(Ln,{onChange:function(e){return r(e.target.value)},children:t.map((function(e){return Object(h.jsxs)("option",{value:e,children:[e.toUpperCase()," (",n[e].length,")"]},e)}))})},zn=w.b.div(ln||(ln=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n\n  animation: animateCredits 1s;\n\n  @keyframes animateCredits {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"]))),Gn=w.b.div(un||(un=Object(O.a)(["\n  .name {\n    font-size: var(--fontBig);\n  }\n"]))),Un=function(e){var n=e.person,t=e.credits,a=Object.keys(t).filter((function(e){return t[e].length>0}));a=a.sort((function(e,n){return t[n].length-t[e].length}));var c=Object(r.useState)(a[0]),i=Object(o.a)(c,2),s=i[0],d=i[1];return Object(h.jsx)(zn,{children:Object(h.jsxs)(Gn,{children:[Object(h.jsxs)("div",{className:"job-type",children:[Object(h.jsxs)("div",{children:["FILMS"," ","actor"===s?"STARRING":"director"===s?"DIRECTED BY":"producer"===s?"PRODUCED BY":"WRITTEN BY"]}),Object(h.jsx)("div",{className:"name",children:n.name})]}),Object(h.jsx)(Bn,{credits:t,jobs:a,handleSelect:function(e){d(e)}}),Object(h.jsx)(En,{showing:t[s]})]})})},Pn=w.b.div(bn||(bn=Object(O.a)(["\n  background: var(--medGrey);\n  height: 100%;\n  min-height: 100vh;\n  padding: 25px 50px;\n  width: 100%;\n"]))),An=w.b.div(hn||(hn=Object(O.a)(["\n  color: var(--white);\n  display: grid;\n  grid-template-columns: minmax(auto, 800px) 200px;\n  grid-column-gap: 1rem;\n  height: 100%;\n  justify-content: center;\n\n  @media screen and (max-width: 768px) {\n    .credits {\n      order: 2;\n    }\n    .bio {\n      order: 1;\n    }\n    grid-template-columns: 1fr;\n  }\n"]))),Dn=function(){var e=function(e){var n=Object(r.useState)({}),t=Object(o.a)(n,2),a=t[0],c=t[1],i=Object(r.useState)({}),d=Object(o.a)(i,2),b=d[0],h=d[1],j=Object(r.useState)(!0),p=Object(o.a)(j,2),m=p[0],v=p[1],x=Object(r.useState)(!1),f=Object(o.a)(x,2),g=f[0],O=f[1];return Object(r.useEffect)((function(){var n=function(){var n=Object(u.a)(l.a.mark((function n(){var t,r,a,i,o,d;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,v(!0),O(!1),n.next=5,he.fetchPerson(e);case 5:return t=n.sent,n.next=8,he.fetchPersonCredits(e);case 8:r=n.sent,a=r.cast,i=r.crew.filter((function(e){return"Director"===e.job})),o=r.crew.filter((function(e){return"Producer"===e.job})),d=r.crew.filter((function(e){return"Writer"===e.job})),c(Object(s.a)({},t)),h({actor:a,director:i,producer:o,writer:d}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),O(!0);case 20:return n.prev=20,v(!1),n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[0,17,20,23]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]),[a,b,m,g]}(Object(b.i)().personId),n=Object(o.a)(e,3),t=n[0],a=n[1],c=n[2];return c?Object(h.jsx)(ee,{}):Object(h.jsx)(Pn,{children:Object(h.jsxs)(An,{children:[Object(h.jsx)("div",{className:"credits",children:Object(h.jsx)(Un,{person:t,credits:a})}),Object(h.jsx)("div",{className:"bio",children:Object(h.jsx)(Cn,{person:t,loading:c})})]})})},Wn=w.b.div(jn||(jn=Object(O.a)(["\n  .sign-up {\n    background: var(--medGrey);\n    border-radius: 5px;\n    color: var(--white);\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 2rem;\n    width: 400px;\n    z-index: 3;\n    animation: showSignUp 0.5s;\n\n    @keyframes showSignUp {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n  }\n\n  .top {\n    display: flex;\n    justify-content: space-between;\n    font-size: 1.25rem;\n    margin-bottom: 1rem;\n  }\n\n  .close {\n    cursor: pointer;\n\n    &:hover {\n      color: var(--hoverColor);\n    }\n  }\n\n  input {\n    background: gainsboro;\n    border-radius: 5px;\n    height: 2rem;\n    width: 50%;\n    margin-bottom: 1rem;\n    outline: none;\n    padding: 0.5rem;\n\n    &:focus {\n      background: var(--white);\n    }\n  }\n\n  #email {\n    width: 100%;\n  }\n\n  button {\n    background: var(--hoverColor);\n    border-radius: 5px;\n    color: var(--white);\n    cursor: pointer;\n    padding: 0.25rem 1rem;\n\n    &:hover {\n      filter: brightness(var(--hoverBrightness));\n    }\n  }\n\n  .overlay {\n    background: rgba(0, 0, 0, 0.9);\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 2;\n  }\n"])));function qn(){var e=p(),n=e.modal,t=e.setModal,r=e.registerUser;return n?Object(c.createPortal)(Object(h.jsxs)(Wn,{children:[Object(h.jsx)("div",{className:"overlay",onClick:function(e){"sign-up"!==e.target.className&&t(!1)}}),Object(h.jsxs)("div",{className:"sign-up",children:[Object(h.jsxs)("div",{className:"top",children:[Object(h.jsx)("span",{children:"JOIN RMDB"}),Object(h.jsx)("span",{className:"close",onClick:function(){return t(!n)},children:"X"})]}),Object(h.jsxs)("form",{onSubmit:r,children:[Object(h.jsxs)("label",{htmlFor:"email",type:"email",children:["Email address",Object(h.jsx)("br",{}),Object(h.jsx)("input",{id:"email",name:"email",type:"email"})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{htmlFor:"username",children:["Username",Object(h.jsx)("br",{}),Object(h.jsx)("input",{id:"username",name:"username",type:"text"})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{htmlFor:"password1",type:"password",children:["Password",Object(h.jsx)("br",{}),Object(h.jsx)("input",{id:"password1",name:"password1",type:"password"})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("label",{htmlFor:"password2",type:"password",children:["Confirm password",Object(h.jsx)("br",{}),Object(h.jsx)("input",{id:"password2",name:"password2",type:"password"})]}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"submit",children:"SIGN UP"})]})]})]}),document.getElementById("modal-root")):null}var Rn,Jn=w.b.div(pn||(pn=Object(O.a)(["\n  background: var(--medGrey);\n  color: var(--white);\n  min-height: 100vh;\n  padding: 3rem;\n\n  .description {\n    border-bottom: 1px solid var(--white);\n    margin-bottom: 1rem;\n  }\n"])));function Fn(){var e=p().tokens,n=Object(r.useState)(null),t=Object(o.a)(n,2),a=t[0],c=t[1],i=Object(r.useState)(!0),s=Object(o.a)(i,2),d=s[0],b=s[1];Object(r.useEffect)((function(){var n=function(){var n=Object(u.a)(l.a.mark((function n(){var t,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat("http://127.0.0.1:8000/api/get-movies/","watchlist"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.access)}});case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,c(r),b(!1);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var j=function(e){e.currentTarget.querySelector(".thumb-panel").style.display="block"},m=function(e){e.currentTarget.querySelector(".thumb-panel").style.display="none"};return d?Object(h.jsx)(ee,{}):Object(h.jsxs)(Jn,{children:[Object(h.jsxs)("section",{className:"description",children:["YOU WANT TO SEE ",a.length," FILM",a.length>1?"S":""]}),Object(h.jsx)(Te,{children:a.map((function(e){return Object(h.jsxs)("div",{className:"thumb-container",onMouseEnter:j,onMouseLeave:m,children:[Object(h.jsx)(g.b,{to:"/".concat(e.movieId),children:Object(h.jsx)("img",{className:"thumb",src:oe+le+e.posterPath,alt:"",title:e.title})}),Object(h.jsx)(Oe,{className:"thumb-panel",movie:e})]},e.movieId)}))})]})}var Yn=Object(w.a)(Rn||(Rn=Object(O.a)(["\n    :root {\n        --maxWidth: 1280px;\n        --white: #fff;\n        --lightGrey: #eee;\n        --medGrey: #353535;\n        --darkGrey: #1c1c1c;\n        --fontSuperBig: 2.5rem;\n        --fontBig: 1.5rem;\n        --fontMed: 1rem;\n        --fontSmall: .75rem;\n        --hoverBrightness: 85%;\n        --hoverColor: greenyellow;\n    }\n\n    * {\n        box-sizing: border-box;\n        font-family: 'Abel', sans-serif;\n    }\n\n    body {\n        margin: 0;\n        padding: 0;\n        \n        h1: {\n            font-size: 2rem;\n            font-weight: 600;\n            color: var(--white); \n        }\n\n        h3: {\n            font-size: 1.1rem;\n            font-weight: 600;\n        }\n\n        p: {\n            font-size: 1rem;\n            color: var(--white);\n        }\n    }\n"])));function Hn(e){var n=e.children,t=e.redirect;return p().user?n:Object(h.jsx)(b.a,{to:t})}var Kn=function(){return Object(h.jsx)(g.a,{children:Object(h.jsxs)(m,{children:[Object(h.jsx)(D,{}),Object(h.jsx)(qn,{}),Object(h.jsxs)(b.d,{children:[Object(h.jsx)(b.b,{path:"/",element:Object(h.jsx)(me,{})}),Object(h.jsx)(b.b,{path:":movieId",element:Object(h.jsx)(On,{})}),Object(h.jsx)(b.b,{path:"person/:personId",element:Object(h.jsx)(Dn,{})}),Object(h.jsx)(b.b,{path:"/films",element:Object(h.jsx)(Hn,{redirect:"/",children:Object(h.jsx)(Ce,{})})}),Object(h.jsx)(b.b,{path:"/likes",element:Object(h.jsx)(Hn,{redirect:"/",children:Object(h.jsx)(Le,{})})}),Object(h.jsx)(b.b,{path:"/watchlist",element:Object(h.jsx)(Hn,{redirect:"/",children:Object(h.jsx)(Fn,{})})}),Object(h.jsx)(b.b,{path:"/*",element:Object(h.jsx)(wn,{})})]}),Object(h.jsx)(Yn,{})]})})};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Kn,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.45350aa8.chunk.js.map